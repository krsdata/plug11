//$ = jQuery;
jQuery(function($){
    $(document).ready(function() {
        $(this).scrollTop(0);

        if($('.tabsgamepricing').length > 0){
            $('.tabsgamepricing').find('.pricingtab-content').hide();
            if($('.tabsgamepricing .pricingtabs .click96.active').hasClass('monthly')){
                $('.tabsgamepricing').find('.pricingtab-content#monthly-tab').show();
            }else{
                $('.tabsgamepricing').find('.pricingtab-content#annual-tab').show();
            }
        }

        
        if($('.topallpricing .allplantabs').length > 0){
            $('.tabsgamepricing').hide();
            if($('.allplantabs .plan.active').length > 0){
                var getid = $('.allplantabs .plan.active').attr('id');
                $('.tabsgamepricing[id='+getid+']').show();
                $('.tabsgamepricing[id='+getid+']').find('.pricingtab-content#annual-tab').hide();
            }

            $(document).on('click','.topallpricing .allplantabs .plan',function(e){
                if(!$(this).hasClass('active')){
                    $('.tabsgamepricing').hide();
                    $('.tabsgamepricing').find('.pricingtab-content').hide();
                    $(this).siblings('.plan').removeClass('active');
                    $(this).addClass('active');
                    var getid = $(this).attr('id');
                    $('.tabsgamepricing[id='+getid+']').show();
                    //$('.tabsgamepricing[id='+getid+']').find('.pricingtab-content#monthly-tab').show();
                    if($('.tabsgamepricing[id='+getid+'] .pricingtabs .click96.active').hasClass('monthly')){
                        $('.tabsgamepricing[id='+getid+']').find('.pricingtab-content#monthly-tab').show();
                    }else{
                        $('.tabsgamepricing[id='+getid+']').find('.pricingtab-content#annual-tab').show();
                    }
                }
            });
        
        }

        

        $(document).on('click','.pricingtabs .click96',function(e){
            if(!$(this).hasClass('active')){
                $(this).closest('.tabsgamepricing').find('.pricingtab-content').hide();
                $(this).siblings('span').removeClass('active');
                $(this).addClass('active');
                if($(this).hasClass('monthly')){
                    $(this).closest('.tabsgamepricing').find('.pricingtab-content#monthly-tab').show();
                }else{
                    $(this).closest('.tabsgamepricing').find('.pricingtab-content#annual-tab').show();
                }
            }
        });

        window.onscroll = function() {myFunction()};

        var header = document.getElementById("homenav");
        var sticky = header.offsetTop;

        function myFunction() {
            if (window.pageYOffset > sticky) {
                header.classList.add("sticky");
            }else{
                header.classList.remove("sticky");
            }
        };
        
        if($(document).width() > 767 && $(document).width() < 1100){
            $('button.navbar-toggler').click(function() {
                if(!$('#navbarNav').hasClass('show')){
                    header.classList.add("bg-white");
                }else{
                    header.classList.remove("bg-white");
                }
            });
        }
        // contact form submission 
        $('form#form-contact-form').submit(function(){
            var filter = /^((\+[1-9]{1,4}[ \-]*)|(\([0-9]{2,3}\)[ \-]*)|([0-9]{2,4})[ \-]*)*?[0-9]{3,4}?[ \-]*[0-9]{3,4}?$/;
            if (!filter.test($('[name=contactnumberskype-id]').val())){
                $('[name=contactnumberskype-id]').focus();
                $('#error_msg').text("Please enter correct contact number !");
                $('#error_msg').fadeIn(100);
                $('#error_msg').fadeOut(5000);
                $('[name=contactnumberskype-id]').val('');
                
                return false;
            }
            $('button.nextMessage2').attr('disabled','disabled');
            $('button.nextMessage2').text('Processing...');
            var contactForm = jQuery(this).serialize();
            var siteurl = $('input.get_site_url').val();
            $.ajax({
                type   : "POST",
                url    : siteurl+"/wp-admin/admin-ajax.php",
                data   : contactForm,
                success: function(data){
                    $('#strmsg').html('<div class="label lebel-success">Message has been sent. We will contact you soon!</div>');
                    $('#strmsg').fadeIn(500);
                    $('#strmsg').fadeOut(10000);
                    $('form#form-contact-form').trigger('reset');
                    $('button.nextMessage2').attr('disabled',false);
                    $('button.nextMessage2').text('Submit');
                }
            });
            return false;
        });


    });
});